
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: html_head">
</head>
<body>
	<header th:include="fragments/header :: menu"></header>

	<div class="container">
		
		<form id="addUser" class="col card p-3 my-3">
		<h2>Manage Users</h2>
		 <div class="row form-group my-3">
		    <div class="col-sm-4">
		      <label for="userName">User Name</label>
		        <input id="userName" placeholder="Enter User Name" required type="text" 
		               class="form-control" name="userName"/>
		    </div>
		    <div class="col-sm-4">
		      <label for="fullName">Full Name</label>
		        <input id="fullName" placeholder="Enter Full Name" required type="text"
		               class="form-control" name="fullName"/>
		    </div>
		    
		    <div class="col-sm-4">
		      <label for="role">Role</label>
		        <select class="form-control" id="role" name="role">
						<option value="" selected>--Please Select--</option>
						<option value="Admin">Admin</option>
						<option value="Super-Admin">Super-Admin</option>
				</select>
		    </div>
		    
		  </div>
  
		    <div class="row">
		    	<div class="col-sm-9">
		    		 <div class="alert" id="userAlert" role="alert" style="display:none"></div>
				</div>
		    	<div class="col-sm-3">
		    	
		    	<button type="submit" class="btn btn-primary"><i class="fa-regular fa-user"></i> Create User</button>
		    	<button type="reset" id="resetUser" class="btn btn-primary">
		    	<i class="fa-solid fa-rotate"></i> Reset</button>
			 
		    	</div>
		    	
		    </div>
		</form>
		<div class="my-5">
		<table class="display my-2" id="userTable">
			<thead>
				<tr>
					<th>User Name</th>
					<th>Name</th>
					<th>Role</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
        	<tr th:each="user : ${users}">
        		<td th:text="${user.getUserName()}"></td>
        		<td th:text="${user.getFullName()}"></td>
        		<td th:text="${user.getRole()}"></td>
				<td></td>
				<td></td>
        	</tr>
        	</tbody> 
		</table>
		</div>
	</div>
	
	<th:block th:replace="fragments/modal :: toast"></th:block>
	<th:block th:replace="fragments/modal :: modal('deleteUser')"></th:block>
	
	<div id="editUserModal" tabindex="-1" class="modal fade hide" role="dialog" 
     aria-hidden="true" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Edit User
				</h5>
				<button type="button" class="close" data-bs-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
			
						<div class="mb-3" >
							<label class="form-label">User Name</label> <input type="text"
								class="form-control" id="updateuserName"/>
								
								<input type="hidden"
								class="form-control" id="userId"/>
						</div>
			
						<div class="mb-3">
							<label class="form-label">Name</label> <input type="text"
								 class="form-control" id="updatefullName"/>
						</div>
						<div class="mb-3">
			
							<label class="form-label">Role</label>
							 <select class="form-control"
								id="updaterole">
								<option value="" selected>--Please Select--</option>
								<option value="Admin">Admin</option>
								<option value="Super-Admin">Super-Admin</option>
							</select>
			
							<div class="alert" id="updateAlert" role="alert" style="display:none"></div>
				</div>
				
			</div>

			<div class="modal-footer">
				<button type="button" id="closeModal" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				<button type="button" id="submitChange" class="btn btn-info" data-dismiss="modal">Confirm</button>
			</div>
		</div>
	</div>
	</div>
	
	<footer class="footer" th:include="fragments/footer :: footer"></footer>
	
</body>
<script src="../js/users.js"></script>
</html>
